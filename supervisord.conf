[supervisord]
nodaemon=true
; nodaemon=true 让 Supervisor 在前台运行，这能保住容器的生命周期。
; 如果 nodaemon=false，Supervisor 自身会后台化，容器启动后立刻退出。

[program:runtime_sandbox_server]
command=sh /app/runtime_sandbox_server/sandbox_server.sh
directory=/app ; 假设你的工作目录是 /app
autostart=true
autorestart=true ; 如果进程意外退出，自动重启它！
stderr_logfile=/var/log/runtime_sandbox_server.err.log
stdout_logfile=/var/log/runtime_sandbox_server.out.log

[program:eqv_agent_runtime]
command=uv run -m agent_runtime.eqv_agent_runtime
directory=/app ; 假设你的工作目录是 /app
autostart=true
autorestart=true ; 如果进程意外退出，自动重启它！
stderr_logfile=/var/log/eqv_agent_runtime.err.log
stdout_logfile=/var/log/eqv_agent_runtime.out.log

[program:fastapi_server]
command=uv run fastapi_server_start.py
directory=/app
autostart=true
autorestart=true ; 同样，自动重启
stderr_logfile=/var/log/fastapi_server.err.log
stdout_logfile=/var/log/fastapi_server.out.log
